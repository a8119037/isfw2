<!DOCTYPE html>

<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

        <script type="text/javascript" src="lib/jquery.min.js"></script>
        <script type="text/javascript" src="lib/osql.js"></script>

        <script>
            osql.requireLogin();

            $(document).ready(function () {
                execSelect1();
                execSelect2();
                execSelect3();
                execSelect4();
            });

            async function execSelect1() {
                var sql = "select * from Users";
                var objects = await osql.connect(sql);
                console.log(objects);
                var html = "";
                html = html + '<table border="1">';
                for (var i = 0; i < objects.length; i++) {
                    html = html + "<tr>";
                    var object = objects[i];
                    html = html + "<td>" + object.id + "</td>";
                    html = html + "<td>" + object.name + "</td>";
                    html = html + "</tr>";
                }
                html = html + "</table>";
                document.getElementById("users").innerHTML = html;
            }

            async function execSelect2() {
                var sql = "select * from User_Sheet";
                var objects = await osql.connect(sql);
                console.log(objects);
                var html = "";
                html = html + '<table border="1">';
                for (var i = 0; i < objects.length; i++) {
                    html = html + "<tr>";
                    var object = objects[i];
                    html = html + "<td>" + object.user_id + "</td>";
                    html = html + "<td>" + object.sheet_id + "</td>";
                    html = html + "<td>" + object.created_at + "</td>";
                    html = html + "<td>" + object.is_attend + "</td>";
                    html = html + "</tr>";
                }
                html = html + "</table>";
                document.getElementById("user_sheet").innerHTML = html;
            }

            async function execSelect3() {
                var sql = "select * from Sheets";
                var objects = await osql.connect(sql);
                console.log(1, objects);
                var html = "";
                html = html + '<table border="1">';
                for (var i = 0; i < objects.length; i++) {
                    html = html + "<tr>";
                    var object = objects[i];
                    html = html + "<td>" + object.id + "</td>";
                    html = html + "<td>" + object.name + "</td>";
                    html = html + "<td>" + object.room + "</td>";
                    html = html + "</tr>";
                }
                html = html + "</table>";
                console.log(html);
                document.getElementById("sheets").innerHTML = html;
            }

            async function execSelect4() {
                var sql = "select * from Sheet_Relationship";
                var objects = await osql.connect(sql);
                console.log(objects);
                var html = "";
                html = html + '<table border="1">';
                for (var i = 0; i < objects.length; i++) {
                    html = html + "<tr>";
                    var object = objects[i];
                    html = html + "<td>" + object.sheet_id_01 + "</td>";
                    html = html + "<td>" + object.sheet_id_02 + "</td>";
                    html = html + "<td>" + object.relation + "</td>";
                    html = html + "</tr>";
                }
                html = html + "</table>";
                document.getElementById("sheet_relationship").innerHTML = html;
            }
        </script>
    </head>

    <body>
        <h1>開発用　全てのテーブルデータ</h1>
        Users
        <p id="users">xxxx</p>
        <br />
        User_Sheet
        <p id="user_sheet">xxxx</p>
        <br />
        Sheets
        <p id="sheets">xxxx</p>
        <br />
        Sheet_Relationship
        <p id="sheet_relationship">xxxx</p>
    </body>
</html>
